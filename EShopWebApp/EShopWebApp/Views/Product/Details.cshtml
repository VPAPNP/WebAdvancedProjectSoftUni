@model ProductDetailsViewModel 

@{
    ViewData["Title"] = "Details";
}


@* </header>

<!-- content -->
<section class="py-5">
    <div class="container">
        <div class="row gx-5">
            <aside class="col-lg-6">
                <div class="border rounded-4 mb-3 d-flex justify-content-center">
                          
                        <img id="main-image" style="max-width: 100%; max-height: 100vh; margin: auto;" class="rounded-4 fit" src="data:image;base64,@System.Convert.ToBase64String(Model.Photos[0].Picture)" />
                    
                </div>
                <div class="d-flex justify-content-center mb-3">
                    @foreach (var item in Model.Photos)
                    {
                        <a class="border mx-1 rounded-2 item-thumb" target="_blank" data-type="image">
                            <img onclick="updateMainImage(this)" width="60" height="60" class="rounded-2" src="data:image;base64,@System.Convert.ToBase64String(item.Picture)" />
                        </a>
                    }
                </div>
            </aside>
            <main class="col-lg-6">
                <div class="ps-lg-3">
                    <h4 class="title text-dark">
                        @Model.Product.Name <br />
                        
                    </h4>
                    <div class="d-flex flex-row my-3">
                        <div class="text-warning mb-1 me-2">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span class="ms-1">
                                4.5
                            </span>
                        </div>
                        <span class="text-muted"><i class="fas fa-shopping-basket fa-sm mx-1"></i>154 orders</span>
                        <span class="text-success ms-2">In stock</span>
                    </div>

                    <div class="mb-3">
                        <span class="h5">$@Model.Product.Price</span>
                        <span class="text-muted">/per (messure unit)</span>
                    </div>

                    <p>
                       @Model.Product.Description
                    </p>

                    <card class="row">
                        <dt class="col-3">Category:</dt>
                        <dd class="col-9">@Model.Product.Category.Name</dd>

                        <dt class="col-3">Brand:</dt>
                        <dd class="col-9">@Model.Product.Brand.Name</dd>
                    </card>

                    <hr />

                    
                        
                </div>

                            <a data-id="@Model.Product.Id" data-name="@Model.Product.Name" data-price="@Model.Product.Price" class="btn buy-it-now btn-warning  shadow-0"> Buy now </a>
                            <a data-id="@Model.Product.Id"  data-name="@Model.Product.Name" data-price="@Model.Product.Price" class="btn btn-primary add-to-cart shadow-0"> <i class="me-1 fa fa-shopping-basket"></i> Add to cart </a>
                    <a href="#" class="btn btn-light border border-secondary py-2 icon-hover px-3"> <i class="me-1 fa fa-heart fa-lg"></i> Save </a>
                </div>
            </main>
        </div>
    </div>
</section>
<!-- content -->

<section class="bg-light border-top py-4">
    <div class="container">
        <div class="row gx-4">
            <div class="col-lg-8 mb-4">
                <div class="border rounded-2 px-3 py-2 bg-white">
                    <!-- Pills navs -->
                    <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
                        <li class="nav-item d-flex" role="presentation">
                            <a class="nav-link d-flex align-items-center justify-content-center w-100 active" id="ex1-tab-1" data-mdb-toggle="pill" href="#ex1-pills-1" role="tab" aria-controls="ex1-pills-1" aria-selected="true">Specification</a>
                        </li>
                        
                    </ul>
                    <!-- Pills navs -->
                    <!-- Pills content -->
                    <div class="tab-content" id="ex1-content">
                        <div class="tab-pane fade show active" id="ex1-pills-1" role="tabpanel" aria-labelledby="ex1-tab-1">
                            <p>
                                With supporting text below as a natural lead-in to additional content. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut
                                enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
                                pariatur.
                            </p>
                            <div class="row mb-2">
                                <div class="col-12 col-md-6">
                                    <ul class="list-unstyled mb-0">
                                        <li><i class="fas fa-check text-success me-2"></i>Some great feature name here</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Lorem ipsum dolor sit amet, consectetur</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Duis aute irure dolor in reprehenderit</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Optical heart sensor</li>
                                    </ul>
                                </div>
                                <div class="col-12 col-md-6 mb-0">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Easy fast and ver good</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Some great feature name here</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Modern style and design</li>
                                    </ul>
                                </div>
                            </div>
                            <table class="table border mt-3 mb-2">
                                <tr>
                                    <th class="py-2">Feature :</th>
                                    <td class="py-2"></td>
                                </tr>
                                <tr>
                                    <th class="py-2">Feature 1</th>
                                    <td class="py-2"></td>
                                </tr>
                                <tr>
                                    <th class="py-2">Feature 2</th>
                                    <td class="py-2"></td>
                                </tr>
                                <tr>
                                    <th class="py-2">Feature 3</th>
                                    <td class="py-2"></td>
                                </tr>
                                <tr>
                                    <th class="py-2">Feature 4</th>
                                    <td class="py-2"></td>
                                </tr>
                            </table>
                        </div>
                        
                    </div>
                    <!-- Pills content -->
                </div>
            </div>
            <div class="col-lg-4">
               <partial name="_SimilarItemsPartial", model="@Model.RelatedProducts" />
            </div>
        </div>
    </div>
</section> *@
<!-- breadcrumb-section -->
<div class="breadcrumb-section breadcrumb-bg">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 text-center">
                <div class="breadcrumb-text">
                    <h1>@Model.Product.Name</h1>
                    <p>See more Details</p>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end breadcrumb section -->
<!-- single product -->
<div class="single-product mt-150 mb-150">
    <div class="container">
        <div class="row">
            <div class="col-md-5">
                <div class="single-product-img">
                    <img id="main-image" src="data:image;base64,@System.Convert.ToBase64String(Model.Photos[0].Picture)" alt="">
                </div>
                <br>
                <div class="d-flex justify-content-center mb-3 single-product-img">
                    @foreach (var item in Model.Photos)
                    {
                        <a class="border mx-1 rounded-2 item-thumb" target="_blank" data-type="image">
                            <img onclick="updateMainImage(this)" width="60" height="60" class="rounded-2" src="data:image;base64,@System.Convert.ToBase64String(item.Picture)" />
                        </a>
                    }
                </div>
            </div>
            <div class="col-md-7">
                <div class="single-product-content">
                    <h3>@Model.Product.Description</h3>
                    <p class="single-product-pricing"><span>Per Kg</span> $50</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dicta sint dignissimos, rem commodi cum voluptatem quae reprehenderit repudiandae ea tempora incidunt ipsa, quisquam animi perferendis eos eum modi! Tempora, earum.</p>
                    <div class="product-quantity cart-item">
                        
                            <input type="number" data-id="@Model.Product.Id" data-name="@Model.Product.Name" value="@Model.ShoppingCartItem.Quantity" min="1" class="quantity-input item-count">
                        
                        <a data-id ="@Model.Product.Id" data-image="@Model.Product.Image" data-name="@Model.Product.Name" data-price="@Model.Product.Price" class="add-to-cart cart-btn" class="cart-btn">
                            <i class="fas fa-shopping-cart"></i> Add to Cart</a>
                        <p><strong>Categories: </strong>Fruits, Organic</p>
                    </div>
                    <h4>Share:</h4>
                    <ul class="product-share">
                        <li><a href=""><i class="fab fa-facebook-f"></i></a></li>
                        <li><a href=""><i class="fab fa-twitter"></i></a></li>
                        <li><a href=""><i class="fab fa-google-plus-g"></i></a></li>
                        <li><a href=""><i class="fab fa-linkedin"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- end single product -->
<!-- more products -->
<div class="more-products mb-150">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2 text-center">
                <div class="section-title">
                    <h3><span class="orange-text">Related</span> Products</h3>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aliquid, fuga quas itaque eveniet beatae optio.</p>
                </div>
            </div>
        </div>
        <div class="row">

            @foreach(var product in Model.RelatedProducts)
            {
                <div class="col-lg-4 col-md-6 text-center">
                    <div class="single-product-item">
                        <div class="product-image">
                            <a asp-area="" asp-action="Details" asp-controller="Product" asp-route-id="@product.Id"><img src="data:image;base64,@System.Convert.ToBase64String(product.Image)" alt=""></a>
                        </div>
                        <h3>@product.Name</h3>
                        <p class="product-price"><span>Per Kg</span> @product.Price$ </p>
                        <a data-id="@product.Id" data-image="@product.Image" data-name="@product.Name" data-price="@product.Price" class="add-to-cart cart-btn"><i class="fas fa-shopping-cart"></i> Add to Cart</a>
                    </div>
                </div>
            })
            
          
        </div>
    </div>
</div>
<!-- end more products -->

    <script>
        var cartUrl = '@Url.Action("Index", "Cart")';
        redirectToCart(cartUrl);
    </script>
<script>
    function updateMainImage(clickedImage) {
        var mainImage = document.getElementById('main-image');
        var mainImageLink = document.getElementById('main-image-link');
        mainImage.src = clickedImage.src;
        mainImageLink.href = clickedImage.src; // Update lightbox href if needed
    }
</script>
    

    


